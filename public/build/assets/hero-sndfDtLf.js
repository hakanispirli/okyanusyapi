const t=()=>({currentSlide:0,autoplayInterval:null,autoplayDelay:5e3,isTransitioning:!1,touchStartX:0,touchEndX:0,imagesLoaded:{},isVisible:!0,slides:[{id:1,title:"Su Yalıtımı Hizmetleri",subtitle:"Profesyonel Su Yalıtım Çözümleri",description:"Binalarınızı su ve nem hasarlarından koruyan, uzun ömürlü ve etkili su yalıtım sistemleri ile güvenli yaşam alanları oluşturuyoruz.",image:"/images/hero/su-yalitim.jpg",cta:{text:"Hizmetlerimiz",link:"/hizmetlerimiz"},ctaSecondary:{text:"İletişim",link:"/iletisim"}},{id:2,title:"Isı Yalıtımı Sistemleri",subtitle:"Enerji Tasarrufu ve Konfor",description:"Modern ısı yalıtım teknolojileri ile enerji maliyetlerinizi düşürün, konforunuzu artırın ve çevre dostu yaşam alanları yaratın.",image:"/images/hero/isi-yalitim.jpg",cta:{text:"Hizmetlerimiz",link:"/hizmetlerimiz"},ctaSecondary:{text:"Hakkımızda",link:"/hakkimizda"}},{id:3,title:"Çatı İzolasyon & Revize",subtitle:"Çatı Bakım ve Yenileme Hizmetleri",description:"Çatılarınızın izolasyonunu güçlendirerek, revize işlemleri ile uzun ömürlü ve dayanıklı çatı sistemleri sunuyoruz.",image:"/images/hero/cati.jpg",cta:{text:"Hizmetlerimiz",link:"/hizmetlerimiz"},ctaSecondary:{text:"Uygulamalar",link:"/uygulamalar"}}],init(){if(this.preloadImage(0),this.slides.length>1&&setTimeout(()=>this.preloadImage(1),100),setTimeout(()=>{this.startAutoplay()},500),"IntersectionObserver"in window){new IntersectionObserver(t=>{t.forEach(t=>{this.isVisible=t.isIntersecting,t.isIntersecting?this.startAutoplay():this.stopAutoplay()})},{threshold:.5}).observe(this.$el)}let t;document.addEventListener("keydown",e=>{this.isTransitioning||(clearTimeout(t),t=setTimeout(()=>{"ArrowLeft"===e.key&&this.prev(),"ArrowRight"===e.key&&this.next()},100))}),document.addEventListener("visibilitychange",()=>{document.hidden?this.stopAutoplay():this.isVisible&&this.startAutoplay()}),this.$el.addEventListener("touchstart",t=>{this.touchStartX=t.changedTouches[0].screenX},{passive:!0}),this.$el.addEventListener("touchend",t=>{this.touchEndX=t.changedTouches[0].screenX,this.handleSwipe()},{passive:!0}),this.slides.length>2&&setTimeout(()=>{for(let t=2;t<this.slides.length;t++)this.preloadImage(t)},2e3)},preloadImage(t){if(this.imagesLoaded[t])return;const e=this.slides[t];if(!e)return;const i=new Image;i.onload=()=>{this.imagesLoaded[t]=!0},i.src=e.image},handleSwipe(){const t=this.touchStartX-this.touchEndX;Math.abs(t)>50&&(t>0?this.next():this.prev())},goToSlide(t){if(this.isTransitioning||t===this.currentSlide)return;this.preloadImage(t),this.isTransitioning=!0,this.currentSlide=t,this.restartAutoplay();const e=(t+1)%this.slides.length,i=(t-1+this.slides.length)%this.slides.length;setTimeout(()=>{this.preloadImage(e),this.preloadImage(i)},100),setTimeout(()=>{this.isTransitioning=!1},600)},next(){const t=(this.currentSlide+1)%this.slides.length;this.goToSlide(t)},prev(){const t=(this.currentSlide-1+this.slides.length)%this.slides.length;this.goToSlide(t)},startAutoplay(){this.autoplayInterval||(this.autoplayInterval=setInterval(()=>{this.isVisible&&!document.hidden&&this.next()},this.autoplayDelay))},stopAutoplay(){this.autoplayInterval&&(clearInterval(this.autoplayInterval),this.autoplayInterval=null)},restartAutoplay(){this.stopAutoplay(),this.startAutoplay()},isActive(t){return this.currentSlide===t},getSlide(t){return this.slides[t]||this.slides[0]},destroy(){this.stopAutoplay()}});export{t as h};
